<?xml version="1.0" encoding="utf-8"?>
<!--
  ~ @package		com_compatibility
  ~ @copyright	Copyright (c)2017-2020 Nicholas K. Dionysopoulos / Akeeba Ltd
  ~ @license		GNU General Public License version 3 or later
  -->

<config>
    <fieldset
            name="software"
            label="COM_COMPATIBILITY_CONFIG_SOFTWARE_LABEL"
            description="COM_COMPATIBILITY_CONFIG_SOFTWARE_DESC"
    >
        <field
                name="extensions"
                type="repeatable"
                icon="list"
                label="COM_COMPATIBILITY_CONFIG_EXTENSIONS_LABEL"
                description="COM_COMPATIBILITY_CONFIG_EXTENSIONS_DESC"
                default="{'category':['1','12','26','42','46','2','39','48','38'],'title':['Akeeba Backup for Joomla!','Admin Tools for Joomla!','Akeeba Ticket System','Akeeba FOF (backend framework) for Joomla','Akeeba Frontend Framework (FEF) for Joomla','Akeeba Kickstart','Akeeba Backup for WordPress','Admin Tools for WordPress','Akeeba Solo'],'icon':['aklogo-backup-j','aklogo-admintools-j','aklogo-tickets','aklogo-company-logo','aklogo-company-logo','aklogo-kickstart','aklogo-backup-wp','aklogo-admintools-wp','aklogo-solo']}"
        >
            <fieldset hidden="true" name="extensions_modal" repeat="true">
                <field
                        name="category"
                        type="sql"
                        label="COM_COMPATIBILITY_CONFIG_CATEGORY_LABEL"
                        description="COM_COMPATIBILITY_CONFIG_CATEGORY_DESC"
                        default=""
                        query="SELECT `id`, `title` FROM `#__ars_categories` WHERE `type` = 'normal' ORDER BY `title` ASC"
                        key_field="id"
                        value_field="title"
                />

                <field
                        name="title"
                        type="text"
                        label="COM_COMPATIBILITY_CONFIG_TITLE_LABEL"
                        description="COM_COMPATIBILITY_CONFIG_TITLE_DESC"
                        default=""
                />

                <field
                        name="icon"
                        type="text"
                        label="COM_COMPATIBILITY_CONFIG_ICON_LABEL"
                        description="COM_COMPATIBILITY_CONFIG_ICON_DESC"
                        default="aklogo-company-logo"
                />
            </fieldset>
        </field>

        <field
                name="cms"
                type="repeatable"
                icon="list"
                label="COM_COMPATIBILITY_CONFIG_CMS_LABEL"
                description="COM_COMPATIBILITY_CONFIG_CMS_DESC"
                default="{'type':['joomla','joomla','joomla','joomla','joomla','joomla','joomla','joomla','joomla','joomla','cp','cp','wp','wp','wp'],'version':['1.5.999','1.7.999','2.5.999','3.2.999','3.4.999','3.6.999','3.7.999','3.8.999','3.999.999','4.0.999','1.999.999','2.999.999','4.8.999','5.1.999','5.999.999'],'min':['4.3.10','5.2.4','5.2.4','5.3.1','5.3.10','5.3.10','5.3.10','5.3.10','5.3.10','7.2.0','5.6.0','7.3.0','5.2.4','5.2.4','5.6.20'],'max':['5.5.999','5.5.999','5.6.999','5.6.999','5.6.999','7.0.999','7.2.999','7.3.999','7.4.999','7.4.999','7.4.999','7.4.999','7.2.999','7.4.999','7.4.999']}"
        >
            <fieldset hidden="true" name="cms_modal" repeat="true">
				<field
					type="list"
					name="type"
					label="COM_COMPATIBILITY_CONFIG_TYPE_LABEL"
					description="COM_COMPATIBILITY_CONFIG_TYPE_DESC"
					default="joomla">
					<option value="joomla">COM_COMPATIBILITY_CONFIG_TYPE_JOOMLA</option>
					<option value="wp">COM_COMPATIBILITY_CONFIG_TYPE_WORDPRESS</option>
					<option value="cp">COM_COMPATIBILITY_CONFIG_TYPE_CLASSICPRESS</option>
				</field>

				<field
					type="text"
					name="version"
					label="COM_COMPATIBILITY_CONFIG_VERSION_LABEL"
					description="COM_COMPATIBILITY_CONFIG_VERSION_DESC"
					default=""
				/>

				<field
						type="text"
						name="min"
						label="COM_COMPATIBILITY_CONFIG_MIN_LABEL"
						description="COM_COMPATIBILITY_CONFIG_MIN_DESC"
						default=""
				/>

				<field
						type="text"
						name="max"
						label="COM_COMPATIBILITY_CONFIG_MAX_LABEL"
						description="COM_COMPATIBILITY_CONFIG_MAX_DESC"
						default=""
				/>
			</fieldset>
        </field>

        <field
                name="exclude_php"
                type="sql"
                label="COM_COMPATIBILITY_CONFIG_EXCLUDE_PHP_LABEL"
                description="COM_COMPATIBILITY_CONFIG_EXCLUDE_PHP_DESC"
                default=""
                query="SELECT `id`, `title` FROM `#__ars_environments` WHERE `xmltitle` LIKE 'php/%'"
                key_field="id"
                value_field="title"
                multiple="multiple"
        />
    </fieldset>

    <fieldset
        name="intro"
        label="COM_COMPATIBILITY_CONFIG_INTRO_LABEL"
        description="COM_COMPATIBILITY_CONFIG_INTRO_DESC"
    >
        <field
            type="radio"
            name="show_intro"
            label="COM_COMPATIBILITY_CONFIG_SHOW_INTRO_LABEL"
            description="COM_COMPATIBILITY_CONFIG_SHOW_INTRO_DESC"
            default="1"
            class="btn-group btn-yesno"
        >
            <option value="0">JNO</option>
            <option value="1">JYES</option>
        </field>

        <field
            name="intro_text"
            type="editor"
            buttons="false"
            label="COM_COMPATIBILITY_CONFIG_INTRO_TEXT_LABEL"
            description="COM_COMPATIBILITY_CONFIG_INTRO_TEXT_DESC"
            showon="show_intro:1"
        />
    </fieldset>

    <fieldset
            name="display"
            label="COM_COMPATIBILITY_CONFIG_DISPLAY_LABEL"
            description="COM_COMPATIBILITY_CONFIG_DISPLAY_DESC"
    >
        <field name="load_fef" type="list" default="3"
               label="COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF"
               description="COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_DESC">
            <option value="0">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_NEVER</option>
            <option value="1">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_FRONTEND</option>
            <option value="2">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_BACKEND</option>
            <option value="3">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_BOTH</option>
        </field>

        <field name="fef_reset" type="list" default="3"
               label="COM_COMPATIBILITY_CONFIG_BACKEND_FEF_RESET"
               description="COM_COMPATIBILITY_CONFIG_BACKEND_FEF_RESET_DESC">
            <option value="0">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_NEVER</option>
            <option value="1">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_FRONTEND</option>
            <option value="2">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_BACKEND</option>
            <option value="3">COM_COMPATIBILITY_CONFIG_BACKEND_LOAD_FEF_BOTH</option>
        </field>

        <field name="dark_mode_backend" type="radio" default="-1"
               label="COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_BACKEND_LABEL"
               description="COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_BACKEND_DESC"
               class="switcher btn-group">
            <option value="-1">COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_AUTO</option>
            <option value="0">COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_NEVER</option>
            <option value="1">COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_ALWAYS</option>
        </field>

        <field name="dark_mode_frontend" type="radio" default="-1"
               label="COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_FRONTEND_LABEL"
               description="COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_FRONTEND_DESC"
               class="switcher btn-group">
            <option value="-1">COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_AUTO</option>
            <option value="0">COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_NEVER</option>
            <option value="1">COM_COMPATIBILITY_CONFIG_BACKEND_DARKMODE_ALWAYS</option>
        </field>
    </fieldset>

    <fieldset
            name="permissions"
            label="JCONFIG_PERMISSIONS_LABEL"
            description="JCONFIG_PERMISSIONS_DESC"
    >

        <field
                name="rules"
                type="rules"
                label="JCONFIG_PERMISSIONS_LABEL"
                class="inputbox"
                filter="rules"
                component="com_compatibility"
                section="component"/>
    </fieldset>
</config>